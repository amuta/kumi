functions:
# length is probably in the wrong place 
  - id: core.length
    kind: elementwise
    params: [{ name: collection, dtype: string }]
    dtype: "integer"
    aliases: ["length", "len", "size"]
    folding_class_method: length

  - id: core.array_size
    kind: elementwise
    params: [{ name: collection, dtype: array }]
    dtype: "integer"
    aliases: ["array_size","size"]
    folding_class_method: length

  - id: core.at
    kind: elementwise
    params: 
      - { name: collection }
      - { name: index, dtype: integer }
    dtype: "element_of(collection)"
    aliases: ["at", "get", "[]"]
    folding_class_method: at

  - id: core.hash_fetch
    kind: elementwise
    params: 
      - { name: key, dtype: hash }
    dtype: "value_of(key)" # TODO, we can calculate,
    aliases: ["fetch"]
    folding_class_method: "[]"