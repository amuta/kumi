(Root
  inputs: [
    (InputDeclaration :batch :array
      [
        (InputDeclaration :b :hash
          [
            (InputDeclaration :mean :float)
            (InputDeclaration :row :array
              [
                (InputDeclaration :r :hash
                  [
                    (InputDeclaration :scale :float)
                    (InputDeclaration :col :array
                      [
                        (InputDeclaration :c :hash
                          [
                            (InputDeclaration :val :float)
                          ]
                        )
                      ]
                    )
                  ]
                )
              ]
            )
          ]
        )
      ]
    )
    (InputDeclaration :global_offset :float)
  ]
  values: [
    (ValueDeclaration :global_offset_plus
      (CallExpression :add
        (InputReference :global_offset)
        (Literal 1.0)
      )
    )
    (ValueDeclaration :batch_bias
      (CallExpression :add
        (InputElementReference batch.b.mean)
        (DeclarationReference :global_offset_plus)
      )
    )
    (ValueDeclaration :row_scale2
      (CallExpression :multiply
        (InputElementReference batch.b.row.r.scale)
        (Literal 2.0)
      )
    )
    (ValueDeclaration :elem_affine
      (CallExpression :add
        (CallExpression :multiply
          (InputElementReference batch.b.row.r.col.c.val)
          (DeclarationReference :row_scale2)
        )
        (DeclarationReference :batch_bias)
      )
    )
    (ValueDeclaration :row_sum_affine
      (CallExpression :sum
        (DeclarationReference :elem_affine)
      )
    )
    (ValueDeclaration :batch_total_affine
      (CallExpression :sum
        (DeclarationReference :row_sum_affine)
      )
    )
  ]
  traits: []
)