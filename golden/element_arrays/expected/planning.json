{
  "declarations": {
    "cube": {
      "axes": ["cube"],
      "parameters": [{"kind":"input","path":["cube"]}],
      "site_schedule": {
        "max_depth": 1,
        "hoisted_scalars": [],
        "root_reduces": [],
        "by_depth": [{"depth":0,"ops":[]},{"depth":1,"ops":[{"id":0,"kind":"loadinput"}]}]
      },
      "axis_carriers": [{"axis":"cube","via_path":["cube"]}],
      "reduce_plans": [],
      "inlining_decisions": {}
    },
    "layer": {
      "axes": ["cube","layer"],
      "parameters": [{"kind":"input","path":["cube","layer"]}],
      "site_schedule": {
        "max_depth": 2,
        "hoisted_scalars": [],
        "root_reduces": [],
        "by_depth": [{"depth":0,"ops":[]},{"depth":1,"ops":[]},{"depth":2,"ops":[{"id":1,"kind":"loadinput"}]}]
      },
      "axis_carriers": [{"axis":"cube","via_path":["cube"]},{"axis":"layer","via_path":["cube","layer"]}],
      "reduce_plans": [],
      "inlining_decisions": {}
    },
    "row": {
      "axes": ["cube","layer","row"],
      "parameters": [{"kind":"input","path":["cube","layer","row"]}],
      "site_schedule": {
        "max_depth": 3,
        "hoisted_scalars": [],
        "root_reduces": [],
        "by_depth": [{"depth":0,"ops":[]},{"depth":1,"ops":[]},{"depth":2,"ops":[]},{"depth":3,"ops":[{"id":2,"kind":"loadinput"}]}]
      },
      "axis_carriers": [
        {"axis":"cube","via_path":["cube"]},
        {"axis":"layer","via_path":["cube","layer"]},
        {"axis":"row","via_path":["cube","layer","row"]}
      ],
      "reduce_plans": [],
      "inlining_decisions": {}
    },
    "cell": {
      "axes": ["cube","layer","row"],
      "parameters": [{"kind":"input","path":["cube","layer","row","cell"]}],
      "site_schedule": {
        "max_depth": 3,
        "hoisted_scalars": [],
        "root_reduces": [],
        "by_depth": [{"depth":0,"ops":[]},{"depth":1,"ops":[]},{"depth":2,"ops":[]},{"depth":3,"ops":[{"id":3,"kind":"loadinput"}]}]
      },
      "axis_carriers": [
        {"axis":"cube","via_path":["cube"]},
        {"axis":"layer","via_path":["cube","layer"]},
        {"axis":"row","via_path":["cube","layer","row"]}
      ],
      "reduce_plans": [],
      "inlining_decisions": {}
    },
    "cell_over_limit": {
      "axes": ["cube","layer","row"],
      "parameters": [{"kind":"input","path":["cube","layer","row","cell"]}],
      "site_schedule": {
        "max_depth": 3,
        "hoisted_scalars": [{"id":5,"kind":"const"}],
        "root_reduces": [],
        "by_depth": [
          {"depth":0,"ops":[{"id":5,"kind":"const"}]},
          {"depth":1,"ops":[]},
          {"depth":2,"ops":[]},
          {"depth":3,"ops":[{"id":4,"kind":"loadinput"},{"id":6,"kind":"map"}]}
        ]
      },
      "axis_carriers": [
        {"axis":"cube","via_path":["cube"]},
        {"axis":"layer","via_path":["cube","layer"]},
        {"axis":"row","via_path":["cube","layer","row"]}
      ],
      "reduce_plans": [],
      "inlining_decisions": {}
    },
    "cell_sum": {
      "axes": ["cube","layer"],
      "parameters": [{"kind":"input","path":["cube","layer","row","cell"]},{"kind":"dependency","source":"cell_over_limit"}],
      "site_schedule": {
        "max_depth": 3,
        "hoisted_scalars": [{"id":9,"kind":"const"}],
        "root_reduces": [],
        "by_depth": [
          {"depth":0,"ops":[{"id":9,"kind":"const"}]},
          {"depth":1,"ops":[]},
          {"depth":2,"ops":[{"id":11,"kind":"reduce"}]},
          {"depth":3,"ops":[{"id":7,"kind":"loaddeclaration"},{"id":8,"kind":"loadinput"},{"id":10,"kind":"select"}]}
        ]
      },
      "axis_carriers": [{"axis":"cube","via_path":["cube"]},{"axis":"layer","via_path":["cube","layer"]}],
      "reduce_plans": [
        {
          "op_id": 11,
          "axis": "row",
          "arg_id": 10,
          "reducer_fn": "agg.sum",
          "result_depth": 2,
          "reset_depth": 1,
          "contrib_depth": 3,
          "bind_depth": 1,
          "nested": false,
          "via_path": ["cube","layer","row"]
        }
      ],
      "inlining_decisions": {"op_7":{"producer":"cell_over_limit","decision":"inline","use_site_axes":["cube","layer","row"]}}
    },
    "count_over_limit": {
      "axes": [],
      "parameters": [{"kind":"dependency","source":"cell_over_limit"}],
      "site_schedule": {
        "max_depth": 3,
        "hoisted_scalars": [{"id":13,"kind":"const"},{"id":14,"kind":"const"}],
        "root_reduces": [{"id":18,"kind":"reduce"}],
        "by_depth": [
          {"depth":0,"ops":[{"id":13,"kind":"const"},{"id":14,"kind":"const"},{"id":18,"kind":"reduce"}]},
          {"depth":1,"ops":[{"id":17,"kind":"reduce"}]},
          {"depth":2,"ops":[{"id":16,"kind":"reduce"}]},
          {"depth":3,"ops":[{"id":12,"kind":"loaddeclaration"},{"id":15,"kind":"select"}]}
        ]
      },
      "axis_carriers": [],
      "reduce_plans": [
        {
          "op_id": 16,
          "axis": "row",
          "arg_id": 15,
          "reducer_fn": "agg.sum",
          "result_depth": 2,
          "reset_depth": 1,
          "contrib_depth": 3,
          "bind_depth": 1,
          "nested": false,
          "via_path": ["cube","layer","row"]
        },
        {
          "op_id": 17,
          "axis": "layer",
          "arg_id": 16,
          "reducer_fn": "agg.sum",
          "result_depth": 1,
          "reset_depth": 0,
          "contrib_depth": 1,
          "bind_depth": 0,
          "nested": true,
          "via_path": ["cube","layer"]
        },
        {
          "op_id": 18,
          "axis": "cube",
          "arg_id": 17,
          "reducer_fn": "agg.sum",
          "result_depth": 0,
          "reset_depth": -1,
          "contrib_depth": 0,
          "bind_depth": -1,
          "nested": true,
          "via_path": ["cube"]
        }
      ],
      "inlining_decisions": {"op_12":{"producer":"cell_over_limit","decision":"inline","use_site_axes":["cube","layer","row"]}}
    }
  }
}