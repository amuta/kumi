schema do
  input do
    array :cube do
      element :array, :layer do
        element :array, :row do
          element :integer, :cell
        end
      end
    end
  end

  value :cube,  input.cube
  value :layer, input.cube.layer
  value :row, input.cube.layer.row
  value :cell, input.cube.layer.row.cell

  trait :cell_over_limit, input.cube.layer.row.cell > 100

  value :cell_sum, fn(:sum_if, input.cube.layer.row.cell, cell_over_limit)
end
