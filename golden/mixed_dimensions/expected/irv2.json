{
  "version": "0.1",
  "module": "schema_module",
  "declarations": {
    "sum_numbers": {
      "name": "sum_numbers",
      "parameters": [{"kind":"input","path":["numbers","value"]}],
      "operations": [
        {"id":0,"op":"LoadInput","args":[["numbers","value"]],"stamp":{"dtype":"integer","axes":["numbers"]}},
        {"id":1,"op":"Reduce","args":[0],"stamp":{"dtype":"integer","axes":[]},"attrs":{"fn":"agg.sum","axis":"numbers"}}
      ],
      "result": 1
    },
    "matrix_sums": {
      "name": "matrix_sums",
      "parameters": [{"kind":"input","path":["matrix","row","cell"]}],
      "operations": [
        {"id":0,"op":"LoadInput","args":[["matrix","row","cell"]],"stamp":{"dtype":"float","axes":["matrix","row"]}},
        {"id":1,"op":"Reduce","args":[0],"stamp":{"dtype":"float","axes":["matrix"]},"attrs":{"fn":"agg.sum","axis":"row"}}
      ],
      "result": 1
    },
    "mixed_array": {
      "name": "mixed_array",
      "parameters": [
        {"kind":"input","path":["scalar_val"]},
        {"kind":"input","path":["matrix","row","cell"]},
        {"kind":"dependency","source":"sum_numbers"}
      ],
      "operations": [
        {"id":0,"op":"LoadInput","args":[["scalar_val"]],"stamp":{"dtype":"integer","axes":[]}},
        {"id":1,"op":"LoadDeclaration","args":["sum_numbers"],"stamp":{"dtype":"integer","axes":[]}},
        {"id":2,"op":"LoadInput","args":[["matrix","row","cell"]],"stamp":{"dtype":"float","axes":["matrix","row"]}},
        {
          "id": 3,
          "op": "ConstructTuple",
          "args": [0,1,2],
          "elem_stamps": [{"dtype":"integer","axes":[]},{"dtype":"integer","axes":[]},{"dtype":"float","axes":[]}]
        }
      ],
      "result": 3
    },
    "constant": {
      "name": "constant",
      "parameters": [],
      "operations": [{"id":0,"op":"Const","args":[42],"stamp":{"dtype":"integer","axes":[]}}],
      "result": 0
    }
  },
  "analysis": {
    "defaults": {"key_policy":"indifferent","on_missing":"error"},
    "inputs": [
      {
        "path": ["matrix"],
        "axes": ["matrix"],
        "dtype": "array",
        "key_policy": "indifferent",
        "on_missing": "error",
        "axis_loops": [{"axes":"matrix","path":["matrix"],"loop_idx":0,"kind":"array_field","key":"matrix"}],
        "leaf_nav": [],
        "terminal": {"kind":"none","dtype":"array","key_policy":"indifferent","on_missing":"error"},
        "path_fqn": "matrix"
      },
      {
        "path": ["matrix","row"],
        "axes": ["matrix","row"],
        "dtype": "array",
        "key_policy": "indifferent",
        "on_missing": "error",
        "axis_loops": [
          {"axes":"matrix","path":["matrix"],"loop_idx":0,"kind":"array_field","key":"matrix"},
          {"axes":"row","path":["matrix","row"],"loop_idx":1,"kind":"array_field","key":"row"}
        ],
        "leaf_nav": [],
        "terminal": {"kind":"none","dtype":"array","key_policy":"indifferent","on_missing":"error"},
        "path_fqn": "matrix.row"
      },
      {
        "path": ["matrix","row","cell"],
        "axes": ["matrix","row"],
        "dtype": "float",
        "key_policy": "indifferent",
        "on_missing": "error",
        "axis_loops": [
          {"axes":"matrix","path":["matrix"],"loop_idx":0,"kind":"array_field","key":"matrix"},
          {"axes":"row","path":["matrix","row"],"loop_idx":1,"kind":"array_field","key":"row"}
        ],
        "leaf_nav": [{"kind":"field_leaf","key":"cell"}],
        "terminal": {"kind":"none","dtype":"float","key_policy":"indifferent","on_missing":"error"},
        "path_fqn": "matrix.row.cell"
      },
      {
        "path": ["numbers"],
        "axes": ["numbers"],
        "dtype": "array",
        "key_policy": "indifferent",
        "on_missing": "error",
        "axis_loops": [{"axes":"numbers","path":["numbers"],"loop_idx":0,"kind":"array_field","key":"numbers"}],
        "leaf_nav": [],
        "terminal": {"kind":"none","dtype":"array","key_policy":"indifferent","on_missing":"error"},
        "path_fqn": "numbers"
      },
      {
        "path": ["numbers","value"],
        "axes": ["numbers"],
        "dtype": "integer",
        "key_policy": "indifferent",
        "on_missing": "error",
        "axis_loops": [{"axes":"numbers","path":["numbers"],"loop_idx":0,"kind":"array_field","key":"numbers"}],
        "leaf_nav": [{"kind":"field_leaf","key":"value"}],
        "terminal": {"kind":"none","dtype":"integer","key_policy":"indifferent","on_missing":"error"},
        "path_fqn": "numbers.value"
      },
      {
        "path": ["scalar_val"],
        "axes": [],
        "dtype": "integer",
        "key_policy": "indifferent",
        "on_missing": "error",
        "axis_loops": [],
        "leaf_nav": [{"kind":"field_leaf","key":"scalar_val"}],
        "terminal": {"kind":"none","dtype":"integer","key_policy":"indifferent","on_missing":"error"},
        "path_fqn": "scalar_val"
      }
    ]
  }
}