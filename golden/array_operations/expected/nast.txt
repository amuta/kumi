(NAST
  (VALUE subtotals
    (Call :"core.mul"
    (InputRef [:items, :price])
    (InputRef [:items, :quantity])
  )
  )
  (VALUE discounted_price
    (Call :"core.mul"
    (InputRef [:items, :price])
    (Const 0.9)
  )
  )
  (VALUE is_valid_quantity
    (Call :"core.gt"
    (InputRef [:items, :quantity])
    (Const 0)
  )
  )
  (TRAIT expensive_items
    (Call :"core.gt"
    (InputRef [:items, :price])
    (Const 100.0)
  )
  )
  (TRAIT electronics
    (Call :"core.eq"
    (InputRef [:items, :category])
    (Const "electronics")
  )
  )
)