# Autogenerated by Kumi Codegen
module Kumi::Compiled::KUMI_c2a7571149caec6c718cac3dc0b29e8cd743dd5cb9fa9703f2a3f1e5f647dccd
  def self.from(input_data = nil)
    instance = Object.new
    instance.extend(self)
    instance.instance_variable_set(:@input, input_data)
    instance
  end

  def self.__kumi_executable__
    instance = Object.new
    instance.extend(self)
    instance
  end

  def update(input_data)
    @input = @input.merge(input_data)
    self
  end

  def [](name)
    case name
    when :next_state then _next_state
    else raise KeyError, "Unknown declaration"
    end
  end

  def _next_state(input = @input)
    out = []
    t205 = input["rows"] || input[:rows]
    t979 = t205.length
    t980 = -1
    t993 = 1
    t854 = 3
    t859 = 2
    t863 = 0
    t205.each_with_index do |rows_el_206, rows_i_207|
      out_1 = []
      t981 = rows_i_207 - t980
      t994 = rows_i_207 - t993
      t1006 = rows_i_207 % t979
      t982 = t981 % t979
      t995 = t994 % t979
      t1007 = t1006 + t979
      t983 = t982 + t979
      t996 = t995 + t979
      t1008 = t1007 % t979
      t984 = t983 % t979
      t997 = t996 % t979
      t1009 = t205[t1008]
      t985 = t205[t984]
      t998 = t205[t997]
      t1010 = t1009.length
      t986 = t985.length
      t999 = t998.length
      rows_el_206.each_with_index do |col_el_208, col_i_209|
        t987 = col_i_209 % t986
        t988 = t987 + t986
        t989 = t988 % t986
        t990 = t985[t989]
        t1000 = col_i_209 % t999
        t1001 = t1000 + t999
        t1002 = t1001 % t999
        t1003 = t998[t1002]
        t1012 = col_i_209 - t980
        t1013 = t1012 % t1010
        t1014 = t1013 + t1010
        t1015 = t1014 % t1010
        t1016 = t1009[t1015]
        t1025 = col_i_209 - t993
        t1026 = t1025 % t1010
        t1027 = t1026 + t1010
        t1028 = t1027 % t1010
        t1029 = t1009[t1028]
        t1041 = t1012 % t986
        t1042 = t1041 + t986
        t1043 = t1042 % t986
        t1044 = t985[t1043]
        t1056 = t1025 % t986
        t1057 = t1056 + t986
        t1058 = t1057 % t986
        t1059 = t985[t1058]
        t1071 = t1012 % t999
        t1072 = t1071 + t999
        t1073 = t1072 % t999
        t1074 = t998[t1073]
        t1086 = t1025 % t999
        t1087 = t1086 + t999
        t1088 = t1087 % t999
        t1089 = t998[t1088]
        t852 = [t990, t1003, t1016, t1029, t1044, t1059, t1074, t1089]
        t853 = t852.sum
        t855 = t853 == t854
        t860 = t853 == t859
        t864 = col_el_208 > t863
        t865 = t860 && t864
        t368 = t855 || t865
        t213 = t368 ? t993 : t863
        out_1 << t213
      end
      out << out_1
    end
    out
  end
end
