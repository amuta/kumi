(Root
  inputs: [
    (InputDeclaration :config :hash
      [
        (InputDeclaration :app_name :string)
        (InputDeclaration :feature_flags :array
          [
            (InputDeclaration :flag_name :string)
          ]
        )
        (InputDeclaration :servers :array
          [
            (InputDeclaration :server :hash
              [
                (InputDeclaration :hostname :string)
                (InputDeclaration :port :integer)
              ]
            )
          ]
        )
      ]
    )
  ]
  values: [
    (ValueDeclaration :app_name
      (InputElementReference config.app_name)
    )
    (ValueDeclaration :all_flags
      (InputElementReference config.feature_flags.flag_name)
    )
    (ValueDeclaration :server_hostnames
      (InputElementReference config.servers.server.hostname)
    )
    (ValueDeclaration :server_count
      (CallExpression :array_size
        (InputElementReference config.servers)
      )
    )
    (ValueDeclaration :total_ports
      (CallExpression :sum
        (InputElementReference config.servers.server.port)
      )
    )
  ]
  traits: []
)