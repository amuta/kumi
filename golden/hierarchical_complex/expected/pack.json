{"bindings":{"ruby":{"kernels":[{"attrs":{},"impl":"->(a, b) { a >= b }","kernel_id":"core.gte"},{"attrs":{},"impl":"->(a, b) { a == b }","kernel_id":"core.eq"},{"attrs":{},"impl":"->(a, b) { a && b }","kernel_id":"core.and"},{"attrs":{},"impl":"->(a, b) { a * b }","kernel_id":"core.mul"}]}},"capabilities":{"layout":"nested_array"},"declarations":[{"axes":["regions","offices","teams","employees"],"axis_carriers":[{"axis":"regions","via_path":["regions"]},{"axis":"offices","via_path":["regions","offices"]},{"axis":"teams","via_path":["regions","offices","teams"]},{"axis":"employees","via_path":["regions","offices","teams","employees"]}],"inlining_decisions":{"op_0":{"decision":"inline","producer":"high_performer","use_site_axes":["regions","offices","teams","employees"]},"op_1":{"decision":"inline","producer":"senior_level","use_site_axes":["regions","offices","teams","employees"]},"op_2":{"decision":"inline","producer":"top_team","use_site_axes":["regions","offices","teams"]}},"name":"employee_bonus","operations":[{"args":["high_performer"],"attrs":{},"id":0,"op":"LoadDeclaration"},{"args":["senior_level"],"attrs":{},"id":1,"op":"LoadDeclaration"},{"args":["top_team"],"attrs":{},"id":2,"op":"LoadDeclaration"},{"args":[1,2],"attrs":{"fn":"core.and"},"id":3,"op":"Map"},{"args":[0,3],"attrs":{"fn":"core.and"},"id":4,"op":"Map"},{"args":[["regions","offices","teams","employees","salary"]],"attrs":{},"id":5,"op":"LoadInput"},{"args":[0.3],"attrs":{},"id":6,"op":"Const"},{"args":[5,6],"attrs":{"fn":"core.mul"},"id":7,"op":"Map"},{"args":[0,2],"attrs":{"fn":"core.and"},"id":10,"op":"Map"},{"args":[0.2],"attrs":{},"id":11,"op":"Const"},{"args":[5,11],"attrs":{"fn":"core.mul"},"id":12,"op":"Map"},{"args":[0.05],"attrs":{},"id":13,"op":"Const"},{"args":[5,13],"attrs":{"fn":"core.mul"},"id":14,"op":"Map"},{"args":[10,12,14],"attrs":{},"id":15,"op":"Select"},{"args":[4,7,15],"attrs":{},"id":16,"op":"Select"}],"parameters":[{"kind":"input","path":["regions","offices","teams","employees","salary"]},{"kind":"dependency","source":"high_performer"},{"kind":"dependency","source":"senior_level"},{"kind":"dependency","source":"top_team"}],"reduce_plans":[],"result_op_id":16,"site_schedule":{"by_depth":[{"depth":0,"ops":[{"id":6,"kind":"const"},{"id":11,"kind":"const"},{"id":13,"kind":"const"}]},{"depth":1,"ops":[]},{"depth":2,"ops":[]},{"depth":3,"ops":[{"id":2,"kind":"loaddeclaration"}]},{"depth":4,"ops":[{"id":0,"kind":"loaddeclaration"},{"id":1,"kind":"loaddeclaration"},{"id":3,"kind":"map"},{"id":4,"kind":"map"},{"id":5,"kind":"loadinput"},{"id":7,"kind":"map"},{"id":10,"kind":"map"},{"id":12,"kind":"map"},{"id":14,"kind":"map"},{"id":15,"kind":"select"},{"id":16,"kind":"select"}]}],"hoisted_scalars":[{"id":6,"kind":"const"},{"id":11,"kind":"const"},{"id":13,"kind":"const"}],"max_depth":4,"root_reduces":[]}},{"axes":["regions","offices","teams","employees"],"axis_carriers":[{"axis":"regions","via_path":["regions"]},{"axis":"offices","via_path":["regions","offices"]},{"axis":"teams","via_path":["regions","offices","teams"]},{"axis":"employees","via_path":["regions","offices","teams","employees"]}],"inlining_decisions":{},"name":"high_performer","operations":[{"args":[["regions","offices","teams","employees","rating"]],"attrs":{},"id":0,"op":"LoadInput"},{"args":[4.5],"attrs":{},"id":1,"op":"Const"},{"args":[0,1],"attrs":{"fn":"core.gte"},"id":2,"op":"Map"}],"parameters":[{"kind":"input","path":["regions","offices","teams","employees","rating"]}],"reduce_plans":[],"result_op_id":2,"site_schedule":{"by_depth":[{"depth":0,"ops":[{"id":1,"kind":"const"}]},{"depth":1,"ops":[]},{"depth":2,"ops":[]},{"depth":3,"ops":[]},{"depth":4,"ops":[{"id":0,"kind":"loadinput"},{"id":2,"kind":"map"}]}],"hoisted_scalars":[{"id":1,"kind":"const"}],"max_depth":4,"root_reduces":[]}},{"axes":["regions","offices","teams","employees"],"axis_carriers":[{"axis":"regions","via_path":["regions"]},{"axis":"offices","via_path":["regions","offices"]},{"axis":"teams","via_path":["regions","offices","teams"]},{"axis":"employees","via_path":["regions","offices","teams","employees"]}],"inlining_decisions":{},"name":"senior_level","operations":[{"args":[["regions","offices","teams","employees","level"]],"attrs":{},"id":0,"op":"LoadInput"},{"args":["senior"],"attrs":{},"id":1,"op":"Const"},{"args":[0,1],"attrs":{"fn":"core.eq"},"id":2,"op":"Map"}],"parameters":[{"kind":"input","path":["regions","offices","teams","employees","level"]}],"reduce_plans":[],"result_op_id":2,"site_schedule":{"by_depth":[{"depth":0,"ops":[{"id":1,"kind":"const"}]},{"depth":1,"ops":[]},{"depth":2,"ops":[]},{"depth":3,"ops":[]},{"depth":4,"ops":[{"id":0,"kind":"loadinput"},{"id":2,"kind":"map"}]}],"hoisted_scalars":[{"id":1,"kind":"const"}],"max_depth":4,"root_reduces":[]}},{"axes":["regions","offices","teams"],"axis_carriers":[{"axis":"regions","via_path":["regions"]},{"axis":"offices","via_path":["regions","offices"]},{"axis":"teams","via_path":["regions","offices","teams"]}],"inlining_decisions":{},"name":"top_team","operations":[{"args":[["regions","offices","teams","performance_score"]],"attrs":{},"id":0,"op":"LoadInput"},{"args":[0.9],"attrs":{},"id":1,"op":"Const"},{"args":[0,1],"attrs":{"fn":"core.gte"},"id":2,"op":"Map"}],"parameters":[{"kind":"input","path":["regions","offices","teams","performance_score"]}],"reduce_plans":[],"result_op_id":2,"site_schedule":{"by_depth":[{"depth":0,"ops":[{"id":1,"kind":"const"}]},{"depth":1,"ops":[]},{"depth":2,"ops":[]},{"depth":3,"ops":[{"id":0,"kind":"loadinput"},{"id":2,"kind":"map"}]}],"hoisted_scalars":[{"id":1,"kind":"const"}],"max_depth":3,"root_reduces":[]}}],"hashes":{"bindings":"ea2112c3b287545b57f6ae67e101522b86580958c0b422fd0c53171bc49f6868","declarations":"0a34965cab469dd0d47da509e8dda32d6d385c5a97ca786d0ec12b3bb3416e1b","inputs":"144f411868b975a04a236a53fc6588972b19a3410d20b038ac36594a9c477df3"},"inputs":[{"accessor_name":"regions","axes":["regions"],"chain":[{"axis":"regions","key":"regions","kind":"array_field"}],"dtype":"array","name":"regions"},{"accessor_name":"regions_offices","axes":["regions","offices"],"chain":[{"axis":"regions","key":"regions","kind":"array_field"},{"axis":"offices","key":"offices","kind":"array_field"}],"dtype":"array","name":"regions.offices"},{"accessor_name":"regions_offices_teams","axes":["regions","offices","teams"],"chain":[{"axis":"regions","key":"regions","kind":"array_field"},{"axis":"offices","key":"offices","kind":"array_field"},{"axis":"teams","key":"teams","kind":"array_field"}],"dtype":"array","name":"regions.offices.teams"},{"accessor_name":"regions_offices_teams_performance_score","axes":["regions","offices","teams"],"chain":[{"axis":"regions","key":"regions","kind":"array_field"},{"axis":"offices","key":"offices","kind":"array_field"},{"axis":"teams","key":"teams","kind":"array_field"},{"key":"performance_score","kind":"field_leaf"}],"dtype":"float","name":"regions.offices.teams.performance_score"},{"accessor_name":"regions_offices_teams_employees","axes":["regions","offices","teams","employees"],"chain":[{"axis":"regions","key":"regions","kind":"array_field"},{"axis":"offices","key":"offices","kind":"array_field"},{"axis":"teams","key":"teams","kind":"array_field"},{"axis":"employees","key":"employees","kind":"array_field"}],"dtype":"array","name":"regions.offices.teams.employees"},{"accessor_name":"regions_offices_teams_employees_salary","axes":["regions","offices","teams","employees"],"chain":[{"axis":"regions","key":"regions","kind":"array_field"},{"axis":"offices","key":"offices","kind":"array_field"},{"axis":"teams","key":"teams","kind":"array_field"},{"axis":"employees","key":"employees","kind":"array_field"},{"key":"salary","kind":"field_leaf"}],"dtype":"float","name":"regions.offices.teams.employees.salary"},{"accessor_name":"regions_offices_teams_employees_rating","axes":["regions","offices","teams","employees"],"chain":[{"axis":"regions","key":"regions","kind":"array_field"},{"axis":"offices","key":"offices","kind":"array_field"},{"axis":"teams","key":"teams","kind":"array_field"},{"axis":"employees","key":"employees","kind":"array_field"},{"key":"rating","kind":"field_leaf"}],"dtype":"float","name":"regions.offices.teams.employees.rating"},{"accessor_name":"regions_offices_teams_employees_level","axes":["regions","offices","teams","employees"],"chain":[{"axis":"regions","key":"regions","kind":"array_field"},{"axis":"offices","key":"offices","kind":"array_field"},{"axis":"teams","key":"teams","kind":"array_field"},{"axis":"employees","key":"employees","kind":"array_field"},{"key":"level","kind":"field_leaf"}],"dtype":"string","name":"regions.offices.teams.employees.level"}],"module_id":"schema_module","pack_version":"0.1"}