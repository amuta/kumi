{"bindings":{"ruby":{"kernels":[{"attrs":{},"impl":"->(a, b) { a >= b }","kernel_id":"core.gte"},{"attrs":{},"impl":"->(a, b) { a == b }","kernel_id":"core.eq"},{"attrs":{},"impl":"->(a, b) { a && b }","kernel_id":"core.and"},{"attrs":{},"impl":"->(a, b) { a * b }","kernel_id":"core.mul"}]}},"capabilities":{"layout":"nested_array"},"declarations":[{"axes":["regions","offices","teams","employees"],"axis_carriers":[{"axis":"employees","via_path":["regions","offices","teams","employees"]},{"axis":"offices","via_path":["regions","offices"]},{"axis":"regions","via_path":["regions"]},{"axis":"teams","via_path":["regions","offices","teams"]}],"inlining_decisions":{},"name":"high_performer","operations":[{"args":[["regions","offices","teams","employees","rating"]],"attrs":{},"id":0,"op":"LoadInput"},{"args":[4.5],"attrs":{},"id":1,"op":"Const"},{"args":[0,1],"attrs":{"fn":"core.gte"},"id":2,"op":"Map"}],"parameters":[{"kind":"input","path":["regions","offices","teams","employees","rating"]}],"reduce_plans":[],"result_op_id":2,"site_schedule":{"by_depth":[{"depth":0,"ops":[{"id":1,"kind":"const"}]},{"depth":1,"ops":[]},{"depth":2,"ops":[]},{"depth":3,"ops":[]},{"depth":4,"ops":[{"id":0,"kind":"loadinput"},{"id":2,"kind":"map"}]}],"hoisted_scalars":[{"id":1,"kind":"const"}],"max_depth":4,"root_reduces":[]}},{"axes":["regions","offices","teams","employees"],"axis_carriers":[{"axis":"employees","via_path":["regions","offices","teams","employees"]},{"axis":"offices","via_path":["regions","offices"]},{"axis":"regions","via_path":["regions"]},{"axis":"teams","via_path":["regions","offices","teams"]}],"inlining_decisions":{},"name":"senior_level","operations":[{"args":[["regions","offices","teams","employees","level"]],"attrs":{},"id":0,"op":"LoadInput"},{"args":["senior"],"attrs":{},"id":1,"op":"Const"},{"args":[0,1],"attrs":{"fn":"core.eq"},"id":2,"op":"Map"}],"parameters":[{"kind":"input","path":["regions","offices","teams","employees","level"]}],"reduce_plans":[],"result_op_id":2,"site_schedule":{"by_depth":[{"depth":0,"ops":[{"id":1,"kind":"const"}]},{"depth":1,"ops":[]},{"depth":2,"ops":[]},{"depth":3,"ops":[]},{"depth":4,"ops":[{"id":0,"kind":"loadinput"},{"id":2,"kind":"map"}]}],"hoisted_scalars":[{"id":1,"kind":"const"}],"max_depth":4,"root_reduces":[]}},{"axes":["regions","offices","teams"],"axis_carriers":[{"axis":"offices","via_path":["regions","offices"]},{"axis":"regions","via_path":["regions"]},{"axis":"teams","via_path":["regions","offices","teams"]}],"inlining_decisions":{},"name":"top_team","operations":[{"args":[["regions","offices","teams","performance_score"]],"attrs":{},"id":0,"op":"LoadInput"},{"args":[0.9],"attrs":{},"id":1,"op":"Const"},{"args":[0,1],"attrs":{"fn":"core.gte"},"id":2,"op":"Map"}],"parameters":[{"kind":"input","path":["regions","offices","teams","performance_score"]}],"reduce_plans":[],"result_op_id":2,"site_schedule":{"by_depth":[{"depth":0,"ops":[{"id":1,"kind":"const"}]},{"depth":1,"ops":[]},{"depth":2,"ops":[]},{"depth":3,"ops":[{"id":0,"kind":"loadinput"},{"id":2,"kind":"map"}]}],"hoisted_scalars":[{"id":1,"kind":"const"}],"max_depth":3,"root_reduces":[]}},{"axes":["regions","offices","teams","employees"],"axis_carriers":[{"axis":"employees","via_path":["regions","offices","teams","employees"]},{"axis":"offices","via_path":["regions","offices"]},{"axis":"regions","via_path":["regions"]},{"axis":"teams","via_path":["regions","offices","teams"]}],"inlining_decisions":{"op_0":{"decision":"inline","producer":"high_performer","use_site_axes":["regions","offices","teams","employees"]},"op_1":{"decision":"inline","producer":"senior_level","use_site_axes":["regions","offices","teams","employees"]},"op_2":{"decision":"inline","producer":"top_team","use_site_axes":["regions","offices","teams"]}},"name":"employee_bonus","operations":[{"args":["high_performer"],"attrs":{},"id":0,"op":"LoadDeclaration"},{"args":["senior_level"],"attrs":{},"id":1,"op":"LoadDeclaration"},{"args":["top_team"],"attrs":{},"id":2,"op":"LoadDeclaration"},{"args":[1,2],"attrs":{"fn":"core.and"},"id":3,"op":"Map"},{"args":[0,3],"attrs":{"fn":"core.and"},"id":4,"op":"Map"},{"args":[["regions","offices","teams","employees","salary"]],"attrs":{},"id":5,"op":"LoadInput"},{"args":[0.3],"attrs":{},"id":6,"op":"Const"},{"args":[5,6],"attrs":{"fn":"core.mul"},"id":7,"op":"Map"},{"args":[0,2],"attrs":{"fn":"core.and"},"id":10,"op":"Map"},{"args":[0.2],"attrs":{},"id":11,"op":"Const"},{"args":[5,11],"attrs":{"fn":"core.mul"},"id":12,"op":"Map"},{"args":[0.05],"attrs":{},"id":13,"op":"Const"},{"args":[5,13],"attrs":{"fn":"core.mul"},"id":14,"op":"Map"},{"args":[10,12,14],"attrs":{},"id":15,"op":"Select"},{"args":[4,7,15],"attrs":{},"id":16,"op":"Select"}],"parameters":[{"kind":"input","path":["regions","offices","teams","employees","salary"]},{"kind":"dependency","source":"high_performer"},{"kind":"dependency","source":"senior_level"},{"kind":"dependency","source":"top_team"}],"reduce_plans":[],"result_op_id":16,"site_schedule":{"by_depth":[{"depth":0,"ops":[{"id":6,"kind":"const"},{"id":11,"kind":"const"},{"id":13,"kind":"const"}]},{"depth":1,"ops":[]},{"depth":2,"ops":[]},{"depth":3,"ops":[{"id":2,"kind":"loaddeclaration"}]},{"depth":4,"ops":[{"id":0,"kind":"loaddeclaration"},{"id":1,"kind":"loaddeclaration"},{"id":3,"kind":"map"},{"id":4,"kind":"map"},{"id":5,"kind":"loadinput"},{"id":7,"kind":"map"},{"id":10,"kind":"map"},{"id":12,"kind":"map"},{"id":14,"kind":"map"},{"id":15,"kind":"select"},{"id":16,"kind":"select"}]}],"hoisted_scalars":[{"id":6,"kind":"const"},{"id":11,"kind":"const"},{"id":13,"kind":"const"}],"max_depth":4,"root_reduces":[]}}],"hashes":{"bindings":"ea2112c3b287545b57f6ae67e101522b86580958c0b422fd0c53171bc49f6868","declarations":"95975523a502cc4ed46859364964c9fbe7c8c49a5e890700a83a10595a389462","inputs":"a270d57b20bc035db7cbb0d78787de104f1d57ed2ef318dcd4bd3b39eb5bb801"},"inputs":[{"accessor_name":"regions","axes":[""],"axis_loops":[{"axes":"regions","key":"regions","kind":"array_field","loop_idx":0,"path":["regions"]}],"dtype":"array","leaf_nav":[],"name":"regions","path_fqn":"regions","terminal":{"dtype":"array","key_policy":"indifferent","kind":"none","on_missing":"error"}},{"accessor_name":"regions_offices","axes":["",""],"axis_loops":[{"axes":"regions","key":"regions","kind":"array_field","loop_idx":0,"path":["regions"]},{"axes":"offices","key":"offices","kind":"array_field","loop_idx":1,"path":["regions","offices"]}],"dtype":"array","leaf_nav":[],"name":"regions.offices","path_fqn":"regions.offices","terminal":{"dtype":"array","key_policy":"indifferent","kind":"none","on_missing":"error"}},{"accessor_name":"regions_offices_teams","axes":["","",""],"axis_loops":[{"axes":"regions","key":"regions","kind":"array_field","loop_idx":0,"path":["regions"]},{"axes":"offices","key":"offices","kind":"array_field","loop_idx":1,"path":["regions","offices"]},{"axes":"teams","key":"teams","kind":"array_field","loop_idx":2,"path":["regions","offices","teams"]}],"dtype":"array","leaf_nav":[],"name":"regions.offices.teams","path_fqn":"regions.offices.teams","terminal":{"dtype":"array","key_policy":"indifferent","kind":"none","on_missing":"error"}},{"accessor_name":"regions_offices_teams_performance_score","axes":["","",""],"axis_loops":[{"axes":"regions","key":"regions","kind":"array_field","loop_idx":0,"path":["regions"]},{"axes":"offices","key":"offices","kind":"array_field","loop_idx":1,"path":["regions","offices"]},{"axes":"teams","key":"teams","kind":"array_field","loop_idx":2,"path":["regions","offices","teams"]}],"dtype":"float","leaf_nav":[{"key":"performance_score","kind":"field_leaf"}],"name":"regions.offices.teams.performance_score","path_fqn":"regions.offices.teams.performance_score","terminal":{"dtype":"float","key_policy":"indifferent","kind":"none","on_missing":"error"}},{"accessor_name":"regions_offices_teams_employees","axes":["","","",""],"axis_loops":[{"axes":"regions","key":"regions","kind":"array_field","loop_idx":0,"path":["regions"]},{"axes":"offices","key":"offices","kind":"array_field","loop_idx":1,"path":["regions","offices"]},{"axes":"teams","key":"teams","kind":"array_field","loop_idx":2,"path":["regions","offices","teams"]},{"axes":"employees","key":"employees","kind":"array_field","loop_idx":3,"path":["regions","offices","teams","employees"]}],"dtype":"array","leaf_nav":[],"name":"regions.offices.teams.employees","path_fqn":"regions.offices.teams.employees","terminal":{"dtype":"array","key_policy":"indifferent","kind":"none","on_missing":"error"}},{"accessor_name":"regions_offices_teams_employees_salary","axes":["","","",""],"axis_loops":[{"axes":"regions","key":"regions","kind":"array_field","loop_idx":0,"path":["regions"]},{"axes":"offices","key":"offices","kind":"array_field","loop_idx":1,"path":["regions","offices"]},{"axes":"teams","key":"teams","kind":"array_field","loop_idx":2,"path":["regions","offices","teams"]},{"axes":"employees","key":"employees","kind":"array_field","loop_idx":3,"path":["regions","offices","teams","employees"]}],"dtype":"float","leaf_nav":[{"key":"salary","kind":"field_leaf"}],"name":"regions.offices.teams.employees.salary","path_fqn":"regions.offices.teams.employees.salary","terminal":{"dtype":"float","key_policy":"indifferent","kind":"none","on_missing":"error"}},{"accessor_name":"regions_offices_teams_employees_rating","axes":["","","",""],"axis_loops":[{"axes":"regions","key":"regions","kind":"array_field","loop_idx":0,"path":["regions"]},{"axes":"offices","key":"offices","kind":"array_field","loop_idx":1,"path":["regions","offices"]},{"axes":"teams","key":"teams","kind":"array_field","loop_idx":2,"path":["regions","offices","teams"]},{"axes":"employees","key":"employees","kind":"array_field","loop_idx":3,"path":["regions","offices","teams","employees"]}],"dtype":"float","leaf_nav":[{"key":"rating","kind":"field_leaf"}],"name":"regions.offices.teams.employees.rating","path_fqn":"regions.offices.teams.employees.rating","terminal":{"dtype":"float","key_policy":"indifferent","kind":"none","on_missing":"error"}},{"accessor_name":"regions_offices_teams_employees_level","axes":["","","",""],"axis_loops":[{"axes":"regions","key":"regions","kind":"array_field","loop_idx":0,"path":["regions"]},{"axes":"offices","key":"offices","kind":"array_field","loop_idx":1,"path":["regions","offices"]},{"axes":"teams","key":"teams","kind":"array_field","loop_idx":2,"path":["regions","offices","teams"]},{"axes":"employees","key":"employees","kind":"array_field","loop_idx":3,"path":["regions","offices","teams","employees"]}],"dtype":"string","leaf_nav":[{"key":"level","kind":"field_leaf"}],"name":"regions.offices.teams.employees.level","path_fqn":"regions.offices.teams.employees.level","terminal":{"dtype":"string","key_policy":"indifferent","kind":"none","on_missing":"error"}}],"module_id":"schema_module","pack_version":"0.1"}