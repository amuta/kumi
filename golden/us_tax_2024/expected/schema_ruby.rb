# Autogenerated by Kumi Codegen
module Kumi::Compiled::KUMI_c9608112fc116466a01eeee25616ed8f4e011b48728f579b0bff1761f145e9ba
  def self.from(input_data = nil)
    instance = Object.new
    instance.extend(self)
    instance.instance_variable_set(:@input, input_data)
    instance
  end

  def self.__kumi_executable__
    instance = Object.new
    instance.extend(self)
    instance
  end

  def update(input_data)
    @input = @input.merge(input_data)
    self
  end

  def [](name)
    case name
    when :summary then _summary
    else raise KeyError, "Unknown declaration"
    end
  end

  def _summary(input = @input)
    out = []
    t974 = input["income"] || input[:income]
    t975 = 168600.0
    t976 = [t974, t975]
    t977 = t976.min
    t978 = 0.062
    t979 = t977 * t978
    t981 = 0.0145
    t982 = t974 * t981
    t1032 = input["state_rate"] || input[:state_rate]
    t1033 = t974 * t1032
    t1035 = input["local_rate"] || input[:local_rate]
    t1036 = t974 * t1035
    t181 = input["statuses"] || input[:statuses]
    t824 = 0
    t857 = 1.0
    t971 = t979 + t982
    t990 = 0.009
    t195 = {
      "marginal" => t1032,
      "effective" => t1032,
      "tax" => t1033
    }
    t199 = {
      "marginal" => t1035,
      "effective" => t1035,
      "tax" => t1036
    }
    t204 = input["retirement_contrib"] || input[:retirement_contrib]
    t840 = -1
    t842 = 100000000000.0
    t858 = [t974, t857]
    t859 = t858.max
    t181.each_with_index do |statuses_el_182, statuses_i_183|
      t184 = statuses_el_182["name"] || statuses_el_182[:name]
      t822 = statuses_el_182["std"] || statuses_el_182[:std]
      acc802 = 0.0
      t803 = statuses_el_182["rates"] || statuses_el_182[:rates]
      acc863 = 0.0
      acc913 = 0.0
      t985 = statuses_el_182["addl_threshold"] || statuses_el_182[:addl_threshold]
      acc1039 = 0.0
      acc1127 = 0.0
      acc1219 = 0.0
      acc1315 = 0.0
      t823 = t974 - t822
      t986 = t974 - t985
      t825 = [t823, t824]
      t988 = [t986, t824]
      t826 = t825.max
      t989 = t988.max
      t803.each_with_index do |t804, t805|
        t829 = t804["lo"] || t804[:lo]
        t815 = t826 >= t829
        t847 = t804["hi"] || t804[:hi]
        t841 = t847 == t840
        t844 = t841 ? t842 : t847
        t818 = t826 < t844
        t819 = t815 && t818
        t853 = t804["rate"] || t804[:rate]
        t809 = t819 ? t853 : t824
        acc802 += t809
      end
      t991 = t989 * t990
      t810 = acc802
      t803.each_with_index do |t865, t866|
        t890 = t865["lo"] || t865[:lo]
        t875 = t826 - t890
        t901 = t865["hi"] || t865[:hi]
        t895 = t901 == t840
        t898 = t895 ? t842 : t901
        t879 = t898 - t890
        t880 = [[ t875, t824 ].max, t879 ].min
        t910 = t865["rate"] || t865[:rate]
        t869 = t880 * t910
        acc863 += t869
        acc913 += t869
        acc1039 += t869
        acc1127 += t869
        acc1219 += t869
        acc1315 += t869
      end
      t973 = t971 + t991
      t870 = acc863
      t920 = acc913
      t1046 = acc1039
      t1134 = acc1127
      t1226 = acc1219
      t1322 = acc1315
      t967 = t973 / t859.to_f
      t860 = t870 / t859.to_f
      t1028 = t1046 + t973
      t1116 = t1134 + t973
      t1208 = t1226 + t973
      t1304 = t1322 + t973
      t191 = {
        "effective" => t967,
        "tax" => t973
      }
      t188 = {
        "marginal" => t810,
        "effective" => t860,
        "tax" => t920
      }
      t1029 = t1028 + t1033
      t1117 = t1116 + t1033
      t1209 = t1208 + t1033
      t1305 = t1304 + t1033
      t1030 = t1029 + t1036
      t1118 = t1117 + t1036
      t1210 = t1209 + t1036
      t1306 = t1305 + t1036
      t1022 = t1030 / t859.to_f
      t1202 = t974 - t1210
      t1298 = t974 - t1306
      t202 = {
        "effective" => t1022,
        "tax" => t1118
      }
      t1294 = t1298 - t204
      t206 = {
        "filing_status" => t184,
        "federal" => t188,
        "fica" => t191,
        "state" => t195,
        "local" => t199,
        "total" => t202,
        "after_tax" => t1202,
        "retirement_contrib" => t204,
        "take_home" => t1294
      }
      out << t206
    end
    out
  end
end
