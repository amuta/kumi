{"bindings":{},"capabilities":{"layout":"nested_array"},"hashes":{"bindings":"44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a","inputs":"4f53cda18c2baa0c0354bb5f9a3ecbe5ed12ab4d8e11ba873c2f11161202b945","ops_by_decl":"3d495c8cde61d7eb347a1f3032dc9c8a264c8bcaf6e9a336e2f054c4e98873ae","plan":"09467c58ec72ad95a54731108cf110ae7d366b149094530c303b2d79bef61f9b"},"inputs":[],"module_id":"schema_module","ops_by_decl":{"big_team":{"operations":[{"args":[["depts","teams","headcount"]],"attrs":{},"id":0,"op":"LoadInput"},{"args":[10],"attrs":{},"id":1,"op":"Const"},{"args":[0,1],"attrs":{"fn":"core.gt"},"id":2,"op":"Map"}],"result":2},"company_total":{"operations":[{"args":[["depts","teams","headcount"]],"attrs":{},"id":0,"op":"LoadInput"},{"args":[0],"attrs":{"axis":"teams","fn":"agg.sum"},"id":1,"op":"Reduce"},{"args":[1],"attrs":{"axis":"depts","fn":"agg.sum"},"id":2,"op":"Reduce"}],"result":2},"dept_total":{"operations":[{"args":[["depts","teams","headcount"]],"attrs":{},"id":0,"op":"LoadInput"},{"args":[0],"attrs":{"axis":"teams","fn":"agg.sum"},"id":1,"op":"Reduce"}],"result":1},"dept_total_masked":{"operations":[{"args":["big_team"],"attrs":{},"id":0,"op":"LoadDeclaration"},{"args":[["depts","teams","headcount"]],"attrs":{},"id":1,"op":"LoadInput"},{"args":[0],"attrs":{},"id":2,"op":"Const"},{"args":[0,1,2],"attrs":{},"id":3,"op":"Select"},{"args":[3],"attrs":{"axis":"teams","fn":"agg.sum"},"id":4,"op":"Reduce"}],"result":4}},"pack_version":"0.1","plan":{"declarations":{"big_team":{"axes":["depts","teams"],"axis_carriers":[{"axis":"depts","via_path":["depts"]},{"axis":"teams","via_path":["depts","teams"]}],"inlining_decisions":{},"name":"big_team","parameters":[{"kind":"input","path":["depts","teams","headcount"]}],"reduce_plans":[],"result_id":2,"site_schedule":{"by_depth":[{"depth":0,"ops":[{"id":1,"kind":"const"}]},{"depth":1,"ops":[]},{"depth":2,"ops":[{"id":0,"kind":"loadinput"},{"id":2,"kind":"map"}]}],"hoisted_scalars":[{"id":1,"kind":"const"}],"max_depth":2,"root_reduces":[]}},"company_total":{"axes":[],"axis_carriers":[],"inlining_decisions":{},"name":"company_total","parameters":[{"kind":"input","path":["depts","teams","headcount"]}],"reduce_plans":[{"arg_id":0,"axis":"teams","op_id":0,"reducer_fn":"agg.sum","result_depth":1,"via_path":["depts","teams"]},{"arg_id":1,"axis":"depts","op_id":1,"reducer_fn":"agg.sum","result_depth":0,"via_path":["depts"]}],"result_id":2,"site_schedule":{"by_depth":[{"depth":0,"ops":[{"id":2,"kind":"reduce"}]},{"depth":1,"ops":[{"id":1,"kind":"reduce"}]},{"depth":2,"ops":[{"id":0,"kind":"loadinput"}]}],"hoisted_scalars":[],"max_depth":2,"root_reduces":[{"id":2,"kind":"reduce"}]}},"dept_total":{"axes":["depts"],"axis_carriers":[{"axis":"depts","via_path":["depts"]}],"inlining_decisions":{},"name":"dept_total","parameters":[{"kind":"input","path":["depts","teams","headcount"]}],"reduce_plans":[{"arg_id":0,"axis":"teams","op_id":0,"reducer_fn":"agg.sum","result_depth":1,"via_path":["depts","teams"]}],"result_id":1,"site_schedule":{"by_depth":[{"depth":0,"ops":[]},{"depth":1,"ops":[{"id":1,"kind":"reduce"}]},{"depth":2,"ops":[{"id":0,"kind":"loadinput"}]}],"hoisted_scalars":[],"max_depth":2,"root_reduces":[]}},"dept_total_masked":{"axes":["depts"],"axis_carriers":[{"axis":"depts","via_path":["depts"]}],"inlining_decisions":{"op_0":{"decision":"inline","producer":"big_team","use_site_axes":["depts","teams"]}},"name":"dept_total_masked","parameters":[{"kind":"input","path":["depts","teams","headcount"]},{"kind":"dependency","source":"big_team"}],"reduce_plans":[{"arg_id":3,"axis":"teams","op_id":3,"reducer_fn":"agg.sum","result_depth":1,"via_path":["depts","teams"]}],"result_id":4,"site_schedule":{"by_depth":[{"depth":0,"ops":[{"id":2,"kind":"const"}]},{"depth":1,"ops":[{"id":4,"kind":"reduce"}]},{"depth":2,"ops":[{"id":0,"kind":"loaddeclaration"},{"id":1,"kind":"loadinput"},{"id":3,"kind":"select"}]}],"hoisted_scalars":[{"id":2,"kind":"const"}],"max_depth":2,"root_reduces":[]}}},"module_spec":{"declarations":["dept_total","company_total","big_team","dept_total_masked"],"inputs":[{"accessor_name":"at_depts","axes":["depts"],"consumes_axes":["depts"],"dtype":"array","path":["depts"]},{"accessor_name":"at_depts_teams","axes":["depts","teams"],"consumes_axes":["depts","teams"],"dtype":"array","path":["depts","teams"]},{"accessor_name":"at_depts_teams_headcount","axes":["depts","teams"],"consumes_axes":["depts","teams"],"dtype":"integer","path":["depts","teams","headcount"]}],"modname":"schema_module","version":"0.1"},"version":"0.1"}}