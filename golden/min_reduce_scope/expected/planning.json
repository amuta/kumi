{
  "declarations": {
    "dept_total": {
      "axes": ["depts"],
      "parameters": [{"kind":"input","path":["depts","teams","headcount"]}],
      "site_schedule": {
        "max_depth": 2,
        "hoisted_scalars": [],
        "root_reduces": [],
        "by_depth": [{"depth":0,"ops":[]},{"depth":1,"ops":[{"id":1,"kind":"reduce"}]},{"depth":2,"ops":[{"id":0,"kind":"loadinput"}]}]
      },
      "axis_carriers": [{"axis":"depts","via_path":["depts"]}],
      "reduce_plans": [
        {
          "op_id": 1,
          "axis": "teams",
          "arg_id": 0,
          "reducer_fn": "agg.sum",
          "result_depth": 1,
          "reset_depth": 0,
          "contrib_depth": 2,
          "bind_depth": 0,
          "nested": false,
          "via_path": ["depts","teams"]
        }
      ],
      "inlining_decisions": {}
    },
    "company_total": {
      "axes": [],
      "parameters": [{"kind":"input","path":["depts","teams","headcount"]}],
      "site_schedule": {
        "max_depth": 2,
        "hoisted_scalars": [],
        "root_reduces": [{"id":4,"kind":"reduce"}],
        "by_depth": [
          {"depth":0,"ops":[{"id":4,"kind":"reduce"}]},
          {"depth":1,"ops":[{"id":3,"kind":"reduce"}]},
          {"depth":2,"ops":[{"id":2,"kind":"loadinput"}]}
        ]
      },
      "axis_carriers": [],
      "reduce_plans": [
        {
          "op_id": 3,
          "axis": "teams",
          "arg_id": 2,
          "reducer_fn": "agg.sum",
          "result_depth": 1,
          "reset_depth": 0,
          "contrib_depth": 2,
          "bind_depth": 0,
          "nested": false,
          "via_path": ["depts","teams"]
        },
        {
          "op_id": 4,
          "axis": "depts",
          "arg_id": 3,
          "reducer_fn": "agg.sum",
          "result_depth": 0,
          "reset_depth": -1,
          "contrib_depth": 0,
          "bind_depth": -1,
          "nested": true,
          "via_path": ["depts"]
        }
      ],
      "inlining_decisions": {}
    },
    "big_team": {
      "axes": ["depts","teams"],
      "parameters": [{"kind":"input","path":["depts","teams","headcount"]}],
      "site_schedule": {
        "max_depth": 2,
        "hoisted_scalars": [{"id":6,"kind":"const"}],
        "root_reduces": [],
        "by_depth": [
          {"depth":0,"ops":[{"id":6,"kind":"const"}]},
          {"depth":1,"ops":[]},
          {"depth":2,"ops":[{"id":5,"kind":"loadinput"},{"id":7,"kind":"map"}]}
        ]
      },
      "axis_carriers": [{"axis":"depts","via_path":["depts"]},{"axis":"teams","via_path":["depts","teams"]}],
      "reduce_plans": [],
      "inlining_decisions": {}
    },
    "dept_total_masked": {
      "axes": ["depts"],
      "parameters": [{"kind":"input","path":["depts","teams","headcount"]},{"kind":"dependency","source":"big_team"}],
      "site_schedule": {
        "max_depth": 2,
        "hoisted_scalars": [{"id":10,"kind":"const"}],
        "root_reduces": [],
        "by_depth": [
          {"depth":0,"ops":[{"id":10,"kind":"const"}]},
          {"depth":1,"ops":[{"id":12,"kind":"reduce"}]},
          {"depth":2,"ops":[{"id":8,"kind":"loaddeclaration"},{"id":9,"kind":"loadinput"},{"id":11,"kind":"select"}]}
        ]
      },
      "axis_carriers": [{"axis":"depts","via_path":["depts"]}],
      "reduce_plans": [
        {
          "op_id": 12,
          "axis": "teams",
          "arg_id": 11,
          "reducer_fn": "agg.sum",
          "result_depth": 1,
          "reset_depth": 0,
          "contrib_depth": 2,
          "bind_depth": 0,
          "nested": false,
          "via_path": ["depts","teams"]
        }
      ],
      "inlining_decisions": {"op_8":{"producer":"big_team","decision":"inline","use_site_axes":["depts","teams"]}}
    }
  }
}