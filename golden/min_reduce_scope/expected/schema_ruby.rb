# Autogenerated by Kumi Codegen
module Kumi::Compiled::KUMI_36744177cdca80fe4a508bf0af34cd8474bf232f192b273175d697342f45e382
  def self.from(input_data = nil)
    instance = Object.new
    instance.extend(self)
    instance.instance_variable_set(:@input, input_data)
    instance
  end

  def self.__kumi_executable__
    instance = Object.new
    instance.extend(self)
    instance
  end

  def update(input_data)
    @input = @input.merge(input_data)
    self
  end

  def [](name)
    case name
    when :dept_total then _dept_total
    when :company_total then _company_total
    when :big_team then _big_team
    when :dept_total_masked then _dept_total_masked
    else raise KeyError, "Unknown declaration"
    end
  end

  def _dept_total(input = @input)
    out = []
    t1 = input["depts"] || input[:depts]
    t1.each_with_index do |depts_el_2, depts_i_3|
      acc_4 = 0
      depts_el_2.each_with_index do |teams_el_5, teams_i_6|
        acc_4 += teams_el_5
      end
      t7 = acc_4
      out << t7
    end
    out
  end

  def _company_total(input = @input)
    acc_8 = 0
    t9 = input["depts"] || input[:depts]
    t9.each_with_index do |depts_el_10, depts_i_11|
      acc_12 = 0
      depts_el_10.each_with_index do |teams_el_13, teams_i_14|
        acc_12 += teams_el_13
      end
      t15 = acc_12
      acc_8 += t15
    end
    acc_8
  end

  def _big_team(input = @input)
    out = []
    t17 = input["depts"] || input[:depts]
    t22 = 10
    t17.each_with_index do |depts_el_18, depts_i_19|
      out_1 = []
      depts_el_18.each_with_index do |teams_el_20, teams_i_21|
        t23 = teams_el_20 > t22
        out_1 << t23
      end
      out << out_1
    end
    out
  end

  def _dept_total_masked(input = @input)
    out = []
    t24 = input["depts"] || input[:depts]
    t35 = 10
    t31 = 0
    t24.each_with_index do |depts_el_25, depts_i_26|
      acc_27 = 0
      depts_el_25.each_with_index do |teams_el_28, teams_i_29|
        t36 = teams_el_28 > t35
        t32 = t36 ? teams_el_28 : t31
        acc_27 += t32
      end
      t33 = acc_27
      out << t33
    end
    out
  end
end
