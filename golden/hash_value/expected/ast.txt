(Root
  inputs: [
    (InputDeclaration :users :array
      [
        (InputDeclaration :user :hash
          [
            (InputDeclaration :name :string)
            (InputDeclaration :state :string)
          ]
        )
      ]
    )
  ]
  values: [
    (ValueDeclaration :users
      (HashExpression
        ((Literal :name) (InputElementReference users.user.name))
        ((Literal :state) (InputElementReference users.user.state))
      )
    )
    (ValueDeclaration :john_user
      (CallExpression :select
        (DeclarationReference :is_john)
        (DeclarationReference :users)
        (Literal "NOT_JOHN")
      )
    )
  ]
  traits: [
    (TraitDeclaration :is_john
      (CallExpression :==
        (InputElementReference users.user.name)
        (Literal "John")
      )
    )
  ]
)