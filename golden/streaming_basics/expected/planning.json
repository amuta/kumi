{
  "declarations": {
    "items_subtotal": {
      "axes": ["items"],
      "parameters": [{"kind":"input","path":["items","price"]},{"kind":"input","path":["items","qty"]}],
      "site_schedule": {
        "max_depth": 1,
        "hoisted_scalars": [],
        "root_reduces": [],
        "by_depth": [{"depth":0,"ops":[]},{"depth":1,"ops":[{"id":0,"kind":"loadinput"},{"id":1,"kind":"loadinput"},{"id":2,"kind":"map"}]}]
      },
      "axis_carriers": [{"axis":"items","via_path":["items"]}],
      "reduce_plans": [],
      "inlining_decisions": {}
    },
    "items_discounted": {
      "axes": ["items"],
      "parameters": [{"kind":"input","path":["items","price"]},{"kind":"input","path":["discount"]}],
      "site_schedule": {
        "max_depth": 1,
        "hoisted_scalars": [{"id":4,"kind":"const"},{"id":5,"kind":"loadinput"},{"id":6,"kind":"map"}],
        "root_reduces": [],
        "by_depth": [
          {"depth":0,"ops":[{"id":4,"kind":"const"},{"id":5,"kind":"loadinput"},{"id":6,"kind":"map"}]},
          {"depth":1,"ops":[{"id":3,"kind":"loadinput"},{"id":7,"kind":"map"}]}
        ]
      },
      "axis_carriers": [{"axis":"items","via_path":["items"]}],
      "reduce_plans": [],
      "inlining_decisions": {}
    },
    "items_is_big": {
      "axes": ["items"],
      "parameters": [{"kind":"input","path":["items","price"]}],
      "site_schedule": {
        "max_depth": 1,
        "hoisted_scalars": [{"id":9,"kind":"const"}],
        "root_reduces": [],
        "by_depth": [{"depth":0,"ops":[{"id":9,"kind":"const"}]},{"depth":1,"ops":[{"id":8,"kind":"loadinput"},{"id":10,"kind":"map"}]}]
      },
      "axis_carriers": [{"axis":"items","via_path":["items"]}],
      "reduce_plans": [],
      "inlining_decisions": {}
    },
    "items_effective": {
      "axes": ["items"],
      "parameters": [{"kind":"dependency","source":"items_is_big"},{"kind":"dependency","source":"items_subtotal"}],
      "site_schedule": {
        "max_depth": 1,
        "hoisted_scalars": [{"id":13,"kind":"const"}],
        "root_reduces": [],
        "by_depth": [
          {"depth":0,"ops":[{"id":13,"kind":"const"}]},
          {
            "depth": 1,
            "ops": [
              {"id":11,"kind":"loaddeclaration"},
              {"id":12,"kind":"loaddeclaration"},
              {"id":14,"kind":"map"},
              {"id":15,"kind":"loaddeclaration"},
              {"id":16,"kind":"select"}
            ]
          }
        ]
      },
      "axis_carriers": [{"axis":"items","via_path":["items"]}],
      "reduce_plans": [],
      "inlining_decisions": {
        "op_11": {"producer":"items_is_big","decision":"inline","use_site_axes":["items"]},
        "op_12": {"producer":"items_subtotal","decision":"inline","use_site_axes":["items"]},
        "op_15": {"producer":"items_subtotal","decision":"inline","use_site_axes":["items"]}
      }
    },
    "total_qty": {
      "axes": [],
      "parameters": [{"kind":"input","path":["items","qty"]}],
      "site_schedule": {
        "max_depth": 1,
        "hoisted_scalars": [],
        "root_reduces": [{"id":18,"kind":"reduce"}],
        "by_depth": [{"depth":0,"ops":[{"id":18,"kind":"reduce"}]},{"depth":1,"ops":[{"id":17,"kind":"loadinput"}]}]
      },
      "axis_carriers": [{"axis":"items","via_path":["items"]}],
      "reduce_plans": [
        {
          "op_id": 18,
          "axis": "items",
          "arg_id": 17,
          "reducer_fn": "agg.sum",
          "result_depth": 0,
          "reset_depth": -1,
          "contrib_depth": 1,
          "bind_depth": -1,
          "nested": false,
          "via_path": ["items"]
        }
      ],
      "inlining_decisions": {}
    },
    "cart_total": {
      "axes": [],
      "parameters": [{"kind":"dependency","source":"items_subtotal"}],
      "site_schedule": {
        "max_depth": 1,
        "hoisted_scalars": [],
        "root_reduces": [{"id":20,"kind":"reduce"}],
        "by_depth": [{"depth":0,"ops":[{"id":20,"kind":"reduce"}]},{"depth":1,"ops":[{"id":19,"kind":"loaddeclaration"}]}]
      },
      "axis_carriers": [{"axis":"items","via_path":["items"]}],
      "reduce_plans": [
        {
          "op_id": 20,
          "axis": "items",
          "arg_id": 19,
          "reducer_fn": "agg.sum",
          "result_depth": 0,
          "reset_depth": -1,
          "contrib_depth": 1,
          "bind_depth": -1,
          "nested": false,
          "via_path": ["items"]
        }
      ],
      "inlining_decisions": {"op_19":{"producer":"items_subtotal","decision":"inline","use_site_axes":["items"]}}
    },
    "cart_total_effective": {
      "axes": [],
      "parameters": [{"kind":"dependency","source":"items_effective"}],
      "site_schedule": {
        "max_depth": 1,
        "hoisted_scalars": [],
        "root_reduces": [{"id":22,"kind":"reduce"}],
        "by_depth": [{"depth":0,"ops":[{"id":22,"kind":"reduce"}]},{"depth":1,"ops":[{"id":21,"kind":"loaddeclaration"}]}]
      },
      "axis_carriers": [{"axis":"items","via_path":["items"]}],
      "reduce_plans": [
        {
          "op_id": 22,
          "axis": "items",
          "arg_id": 21,
          "reducer_fn": "agg.sum",
          "result_depth": 0,
          "reset_depth": -1,
          "contrib_depth": 1,
          "bind_depth": -1,
          "nested": false,
          "via_path": ["items"]
        }
      ],
      "inlining_decisions": {"op_21":{"producer":"items_effective","decision":"inline","use_site_axes":["items"]}}
    }
  }
}